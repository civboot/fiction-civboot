```
Author: Rett Berg (github.com/vitiral)
Perspective: Toll Bansha
Time period: 1 month 30 days BE
Primary Location: Civboot A
```

After a shower I arrive at breakfast at exactly 6:30AM. I played with my new
pwatch (com-puter watch, pronounced "pew-ahtch") before bed last night, reading
some of the manuals and looking over my schedule. Like military submarines and
other places where people live with no access to light, the schedule was
extremely orderly to ensure everyone maintains a consistent circidean rythm of
sleep and wakefullness.

"Morning" says a new voice, sitting across from me at the table with a plate of
eggs, toast and fruit. I shake the outstretched hand. "Name's Jamie" he says,
"mechanical engineer and resident sweetheart."

Jamie is a very handsom thirty five year old man, probably the youngest
resident besides my thirty years. I notice the wedding ring on his hand and
smile. "My name's Toll. Does your wife know you're such a charmer?"

"Why do you think she married me?" Jamie asks, a sparkle in his eyes as he
starts to shovel eggs into his mouth.

I take a long sip of coffee. "How long have you been down here? Does she miss
you?"

"Been here for about a year," Jamie says, still chewing on his eggs. He washes
them down with coffee. "I don't think being buried underground can ever feel
good, but it can resemble normalness after a while. It might even start to
feel..." Jamie moves his hand around, searching for the word. "Safe. Secure. I
think when you're confined for long enough your brain starts to convert that
feeling into other emotions. Like how if you go for enough runs you begin to
enjoy even the pain you feel."

"Speaking of which" Jamie says, shoveling down his oatmeal and guzziling the
rest of his cofee "I've got to get off to the track before my shift starts. You
joining me?"

I have almost never jogged in my life, but I wasn't going to turn down an offer
of company. I've also wanted to get in the habbit for a while, just...  never
gotten around to it okay?

Jamie had eaten with phenominal speed, so I quickly shovel the rest of my food
down and take my coffee to-go, drinking it as we walk to our bunks and change
into shorts. Jamie does stretches and then simply starts jogging down the hall.
I follow, already feeling slow.

"The entire facility was constructed as one long oval with rooms branching off at
angles of about twenty degrees" says Jamie, jogging breathlesslessly. I'm
already breathing heavily. "It was dug by the same drill, which can only turn at
that small angle you see. The drill branches off and then is reversed back into
the oval tunnel to continue drilling this main hall."

We pass Dr Jong walking with a woman I haven't met. I wave as we jog by. My
breath was almost ready to abandon me. "I need to slow down" I heave.

Jamie cuts his pace in half without any other reaction. "This is the tunel down
to the core", he says, pointing to out right. It has been the only tunel
pointing to the inside of the oval, and the only tunel sloped downwards. "It
turns into a stairway and then an elevator and goes deep into the earth. The
drill is still down there, along with a smaller drill for creating the
geothermal pipes we use for energy harvesting. The entire facility is powered by
that system, with backup batteries that can last up to maybe a week. It's one of
the main differences with the Martian system which uses solar, wind and nuclear
power."

"Wind?" I gasp. Even at half pace my breath was still short. "I thought Mars has
no atmosphere?" I breath in short pants. At this point, Mars probably has more
air than me.

"Mars has a hundred times less atmosphere than earth. But wind turbine power
generation is only linear to the air pressure, it is exponential to the wind
velocity. Mars has high wind velocity at the exact times that there is very
little sunlight: during dust storms. Therefore a mix of both wind and solar is
the best strategy to ensure consistent power. As well as nuclear for heavy
industry of course."

I nod my head, that all makes sense. "So why do we use geothermal?"

Jamie just gives a laugh, "The expense of nuclear power plants is far too large,
they would need at least six people down here just to man the station. Also,
geothermal is more reliable. We actually have two separate geothermal
generators, one large and a small backup. There are two goals with the
underground Civboots: to mimick Mars and to be a highly resilient bastion of
technology. That's my guess anyway, nobody ever talks about the second reason."

We come around the bend and Jamie's watch starts making a sound. He comes to a
walk, letting me catch my breath before continuing. "I'm going to do a few more
laps at my normal pace. It was nice running with you. You should keep it up, I
appreciate having a partner." Jamie gives me a hug and takes off, back at double
pace. I notice that I am disguistingly sweaty while he is still dry.

After I shower and change into fresh cloes I go to Maye's station again. She is
already inspecting the same plant as before under her microscope. When she hears
me approach she turns and stands, embracing me.

"Thanks for coming. I'd really appreciate it if someone could take a look at
this damned auto harvester. The thing just doesn't want to pick the raspberries,
making us pick them all by hand."

"I'll take a look" I say, "but I want you to know I still have only a little
experience with Civboot's software stack and will need some time to learn. I've
been taught the basics but have never tried to fix a harvester."

Maye nods her head "That's fine, I'm sure it's more than I could do. I've got my
work cut out for me trying to figure out this strand of fungus that somehow made
it into the farm. I think it's a South American variety, meaning it must have
come from somebody's trip and laid dormant for months... or maybe years.  It's
wreaking some havok on the vegetables and I'm still not sure what the remedy
is."

I leave Maye to her fungus and go to another terminal, bringing up the Civboot
Operating System (CivbootOS). Even the software here is custom made for
understandability. I start delving into the manuals about the auto-harvesters
and verticle farms in a Civboot. Frankly it is fascinating stuff. The civboot
farms are one of the most mature (aka "modern") aspects of the entire Civboot
stack, which on average look like it was made by a college graduates working on
their final projects. There's a reason it seems like that: much of Civboot _was_
made in exactly that way. Learning Civboot and creating or improving a section
of it has become a high school through college "learn by doing" ciriculum that
is extremely popular across many countries.

Unlike many aspects of a Civboot though, the farms are one of the few pieces
that has been adopted and contributed to by industry. Agriculture is split
into basically three categories (1) conventional industrial farming which used
to provide greater than 95% of food but now produces less than half and keeps
declining, (2) hobby or small farms providing less than 5% of food for the last
century or more, (3) autoharvested food, now producing more than half of all
food.

Of the autoharvested food, there are only really two proviers of software.
DuPointee who maintains a ready-made package of robots, software, communication,
verticle farms, sales teams and lawsuits. And Civboot which is completely open
and was invested in heavily by NASA and then by certain large tech companies,
world goverments, universities, hobbiests and finally many in the verticle
farming industry. About 70% of all food is produced with DuPointee's product
line but they represent only 5% of food producing entities. Basically the big
fish use DuPointee while the small fish use Civboot.

The software and hardware is extremely unusual for a system that should be using
an extremely large "Machine Learning" or "Artificial Inteligence" tech stack.
Typically these systems are power and memory hungry beasts. Training them
requires terrabytes of reference photos, and the robots themselves are sprawling
amounts of code and complex hardware. Civboot robots approach it backwards. Yes,
they do use some machine learning in order to recognize what to harvest and what
to prune, but they are basically just using image recognition, a simple track
system, and knowledge of how old each plant is. It uses a small amount of custom
hardware to do this, basically just arrays of single byte floating point
multiplication and division logic units. It requires a little more manual effort
and doesn't get the same yields, but it is a hell of a lot simpler and cheaper.

Here's what the robot does. (1) takes a large scale picture of the whole plant.
(2) image recognition tells it what needs to be harvested and pruned (3) the
robot performs these actions.

The majority of the actual code seems to be in how to convert different plants
at different stages into specific motions for harvest or pruning. The robot has
a few more stages where it moves leaves and branches out of the way and does a
few more picture/harvest phases, but otherwise you get the idea.

The thing that's so great about this for me is that it is all done very
step-wise. Move to location, take photo, perform harvest, separate branches,
continue. Also, it seems that a week's worth of photos are always kept in backup,
allowing for people like me to use them for debugging. The software which
controls the harvest robot is called "serf". There is a separate program to help
diagnose problems with the robots called "serflord." Civboot is full of these
little jokes.

Let's talk about CivbootOS. It is text based. Some really advanced programs have
little drawings consisting of wire meshes. It can also sometimes display images.
It's like whoever built this really loved watching Tron and dreamed of a
retro-futuristic 70's future. Having a PhD in computer science I know _why_ it
is built this way, but it still sucks. Like everything else they wanted
everything to be "as simple as possible." The software is so basic that a
teenager could probably understand and modify it.

I punch the following into my Civboot terminal
```
$ serflord help
  serflord
    Manage your unruly serfs

    Serfs are autotonomous harvesting robots. See man serf for more details.

  Commands
    report: report on your serfs such as their status and what they are doing.
    command: tell your serfs what to do.
    images: filter, view, tag and test images against serf.
```

There are other commands as well, but I ignore them. I start playing with the
software a bit, reporting on what the robots are doing. Over lunch, Maye and I
discuss which row of the farm is having issues. When I get back to the computer
I start using `serf images` to view the images. I filter by the row Maye gives
me and start looking at the images.

Serflord pops up images from one of the failed harvests, annotated with colored
boxes and a key as to what each box was categorized as. From the images it seems
that all of the raspberries were being properly detected. "Not a software
problem so far" I mutter to myself. I check what the harvester is currently doing.
It's innactive and at full power. I order it to do a harvesting run, then run to
the farm with laptop in hand to observe and video record it. I have serflord
force all the logs to appear on my screen.

```
BEGIN photo/92/31/23/1
  * 3 raspberry to harvest.
  * 1 branch to prune.
```

Okay, I think that is a directory where I can find the photo. 92 is the 92nd day
of the year. `31/23` is the farm plot and row number. I think `1` is the photo
index.

```
BEGIN harvest
  * ERROR raspberry not detected
  * ERROR raspberry not detected
  * ERROR raspberry not detected
  * Prune successful
```

I quickly stop the robot. First of all, I don't think it really had a successful
prune. It barely clipped a centimeter of branch off. My guess is that it detected
that something was removed and logged it as successful.

As for harvesting, I think I see the problem. It's a few centimeters to the
right of every raspberry. Seeing these logs makes me realize I should look at
the logs from some of the old runs. When I do I see the same errors cropping up
repeatedly. I try using a different robot to do the same harvest, but it gets
the same result.

At this point I'm stumped and send the video and what I found to NASA. I haven't
completely ruled out either software or hardware, but there should be enough to
determine the next step I should take. It feels like a good day's work.

